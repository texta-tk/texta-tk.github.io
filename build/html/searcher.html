
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Search &#8212; TEXTA Toolkit 2 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Lexicon Miner" href="lexicon_miner.html" />
    <link rel="prev" title="Projects" href="projects.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/toolkit_logo.png" alt="Logo"/>
    
  </a>
</p>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="uaa.html">Third-Party Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="importer.html">Dataset Importer</a></li>
<li class="toctree-l1"><a class="reference internal" href="mlp.html">MLP</a></li>
<li class="toctree-l1"><a class="reference internal" href="reindexer.html">Reindexer</a></li>
<li class="toctree-l1"><a class="reference internal" href="registration.html">Registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="health.html">Health</a></li>
<li class="toctree-l1"><a class="reference internal" href="projects.html">Projects</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Search</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#current-search">Current Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="#saved-searches">Saved Searches</a></li>
<li class="toctree-l2"><a class="reference internal" href="#aggregations-summarizing-the-data">Aggregations: Summarizing the Data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="lexicon_miner.html">Lexicon Miner</a></li>
<li class="toctree-l1"><a class="reference internal" href="embedding.html">Embedding</a></li>
<li class="toctree-l1"><a class="reference internal" href="topic_analyzer.html">Topic Analyzer</a></li>
<li class="toctree-l1"><a class="reference internal" href="tagger.html">Tagger</a></li>
<li class="toctree-l1"><a class="reference internal" href="tagger_group.html">Tagger Group</a></li>
<li class="toctree-l1"><a class="reference internal" href="regex_tagger.html">Regex Tagger</a></li>
<li class="toctree-l1"><a class="reference internal" href="regex_tagger_group.html">Regex Tagger Group</a></li>
<li class="toctree-l1"><a class="reference internal" href="torch_tagger.html">Torch Tagger</a></li>
<li class="toctree-l1"><a class="reference internal" href="bert_tagger.html">Bert Tagger</a></li>
<li class="toctree-l1"><a class="reference internal" href="terminology.html">Terminology</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="projects.html" title="previous chapter">Projects</a></li>
      <li>Next: <a href="lexicon_miner.html" title="next chapter">Lexicon Miner</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="search">
<h1>Search<a class="headerlink" href="#search" title="Permalink to this headline">¶</a></h1>
<p>The Search application is responsible for both creating the searches defining subsets of documents for Toolkit’s other applications and browsing-summarizing the data.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In order to use <strong>Search</strong>, project must be selected in upper panel.</p>
</div>
<p>Search’s graphical interface consists of serveral important panels, which are depicted in <a class="reference internal" href="#search-panel"><span class="std std-numref">Fig. 12</span></a>.
We can collapse or open the panels by clicking on the arrow in the corner.</p>
<div class="figure align-default" id="id2">
<span id="search-panel"></span><img alt="_images/search_panel.png" src="_images/search_panel.png" />
<p class="caption"><span class="caption-number">Fig. 12 </span><span class="caption-text"><em>Search Panel</em></span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
<div class="legend">
<ol class="arabic simple">
<li><p><a class="reference internal" href="#currentsearch"><span class="std std-ref">Current Search</span></a></p></li>
<li><p><a class="reference internal" href="#savedsearches"><span class="std std-ref">Saved Searches</span></a></p></li>
<li><p><a class="reference internal" href="#aggregations"><span class="std std-ref">Aggregations</span></a></p></li>
</ol>
</div>
</div>
<div class="section" id="current-search">
<span id="currentsearch"></span><h2>Current Search<a class="headerlink" href="#current-search" title="Permalink to this headline">¶</a></h2>
<p>Data browsing and summarization depend on searches. Search consists of a set of constraints on <a class="reference internal" href="terminology.html#field-concept"><span class="std std-ref">field</span></a> values. We can define our constraints on the data using the <em>Current Search</em> panel.
Without saving the constraints, we are in a “test mode”, which means that we can use the search in real time, but we cannot use the search in other tools.
After saving the search, it is available also to other tools.</p>
<p>In order to add a constraint, we must first choose one or several fields. After the field is selected, we can then specify which textual tokens (words or word parts) should or must occur in the interested document subset.</p>
<p>We must notice that the search will be done on the Project’s dataset chosen in the upper panel.</p>
<p>Suppose we are interested in finding all the documents which contains “bribery” and “official” from a text.
<a class="reference internal" href="#search-constraints"><span class="std std-numref">Fig. 13</span></a> shows how we have defined that we want to find all the documents which contain “bribery” and “official” in the article_text_mlp.text field:</p>
<div class="figure align-default" id="id3">
<span id="search-constraints"></span><img alt="_images/search_constraints.png" src="_images/search_constraints.png" />
<p class="caption"><span class="caption-number">Fig. 13 </span><span class="caption-text"><em>Example Search Constraints</em></span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>Searches have several parameters to consider:</p>
<ul class="simple">
<li><p>We can also choose ‘or’ or ‘not’ under the Operator. In this case we either get documents containing at least one of the words (‘or’) or definitely not containing the words listed (‘not’).</p></li>
<li><p>We can choose from several match types. Type “word” means that we want to find exact matches of the word(s) written and “phrase” means that we want to find exact matches of the phrases we are looking for, whereas “Phrase prefix” matches prefixes. This means suffixes may differ: for example searching for ‘bribe’ will find ‘bribetaking’, ‘bribers’, ‘bribery’ and other words starting with ‘bribe’. ‘regex’ takes the input as <a class="reference external" href="https://www.rexegg.com/regex-quickstart.html">a regular expression</a> and searches document accordingly. For example ‘bribe.{0,2}’ will find ‘bribe’ and ‘bribery’, but not longer words. If we have a big list of words we want to search for, we can extend the field searcher’s panel.</p></li>
<li><p>We can also use Slop. Via Slop we can define up to how many words can be between the two words we wrote on one row in case the range is important for us.</p></li>
</ul>
<p>Should we be interested in more detailed searches, we can add more constraints like the previous ones via <strong>Add Filter</strong> button.
For example, we can also search documents in a certain date range in case we have a proper preprocessed date field.</p>
<p>If we click on “Search” button, we will see the matching data in a tabular form (see <a class="reference internal" href="#search-results"><span class="std std-numref">Fig. 14</span></a>), where layered features share feature name’s prefix, and matches are highlighted in pink.
The results might be updating while modifying the filters.</p>
<div class="figure align-default" id="id4">
<span id="search-results"></span><a class="reference internal image-reference" href="_images/search_results.png"><img alt="_images/search_results.png" src="_images/search_results.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Fig. 14 </span><span class="caption-text"><em>Example Search Results</em></span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
<p>If there are too many features (columns), we can hide or show them from the drop-down menu in the down left corner. We can select or deselect all of them together (<em>Select all</em>) or by clicking on them separately. We can also hide or get back the Searcher’s panels with <em>Toggle drawer</em> button. We can browse through Searcher’s results with the arrows in the bottom right. We can also choose how many items per page would we want to see.</p>
<div class="figure align-default" id="id5">
<span id="search-rt"></span><img alt="_images/search_results_toggle.png" src="_images/search_results_toggle.png" />
<p class="caption"><span class="caption-number">Fig. 15 </span><span class="caption-text"><em>Select Fields for Search Results</em></span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<p>After we have come up with a suitable search, we can save it for later use by clicking on the <strong>disk</strong> icon up-right in the Current Search panel. The <strong>eye</strong> icon next to the disk icon shows us the actual Elasticsearch query we built by choosing the Operators and words to search for.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>API for scrolling can be found <a class="reference external" href="https://rest-dev.texta.ee/api/v1/projects/1/scroll/">here</a>.</p>
</div>
</div>
<div class="section" id="saved-searches">
<span id="savedsearches"></span><h2>Saved Searches<a class="headerlink" href="#saved-searches" title="Permalink to this headline">¶</a></h2>
<p>After saving a search, it becomes available for using in Toolkit’s applications.
Now, whenever we check it, we can use it to browse data or apply in aggregations.
We can also send our saved search to other users who have the permission to our project with a copied url.
This opens the saved search under the Current Search for the other user.
We can also open our saved search in the Current Search simply by clicking on it.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>API support for saving searches can be found <a class="reference external" href="https://rest-dev.texta.ee/api/v1/projects/1/searches/">here</a>.</p>
</div>
</div>
<div class="section" id="aggregations-summarizing-the-data">
<span id="aggregations"></span><h2>Aggregations: Summarizing the Data<a class="headerlink" href="#aggregations-summarizing-the-data" title="Permalink to this headline">¶</a></h2>
<p>As fun as browsing through the data is, it is not always enough. Sometimes we want to get an overview of our data, such as topics over time or word distributions. Searcher allows to do all of that and more through the “Aggregations” panel.</p>
<p>Aggregations have two components - data and features it aggregates over. It will aggregate over the dataset we have under the Current Search. We can also exclude current search (meaning that ‘Aggregate over all data except the one we have currently active’) and choose the aggregation size. By defining a feature, we can group by that feature and get category counts. For example, lets assume we are interested in seeing how are the top words distributed in our sample data defined by our “bribe” search. For that we simply click on our bribe search under Saved Searches to get it as the current search.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<dl class="simple">
<dt><strong>How are the significance scores calculated?</strong></dt><dd><p>The numbers returned for scores are primarily intended for ranking different suggestions sensibly rather than something easily understood by end users. The scores are derived from the doc frequencies in foreground and background sets. In brief, a term is considered significant if there is a noticeable difference in the frequency in which a term appears in the subset and in the background. The way the terms are ranked can be configured, <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-significanttext-aggregation.html">see “Parameters” section</a>.</p>
</dd>
</dl>
</div>
<p>One cool thing we can also do, is to visualize the frequency of texts with searched words in it on a timeline. We can do that if we have a proper date field (in Texta date format) in our data. Here we can visualize when were the words ‘bribe’, ‘bribery’ and ‘bribed’ used most frequently in our dataset.</p>
<p>We can also aggregate over <a class="reference internal" href="terminology.html#texta-fact"><span class="std std-ref">texta_facts</span></a> field in order to see the top entities under some tag. If we click on the black diagram button, we can scroll through the results. We see as many entities as we chose for our aggregation size.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2020 TEXTA.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/searcher.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>