
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Tutorial: Using Toolkit via API &#8212; TEXTA Toolkit 2 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Authenticating Toolkit through CloudFoundry UAA" href="uaa.html" />
    <link rel="prev" title="Tutorial: Using Toolkit via GUI" href="gui.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <p><a class="reference external" href="https://docs.texta.ee/api.html">EN</a>
<a class="reference external" href="https://docs.texta.ee/et/api.html">ET</a></p>
<div class="section" id="tutorial-using-toolkit-via-api">
<h1>Tutorial: Using Toolkit via API<a class="headerlink" href="#tutorial-using-toolkit-via-api" title="Permalink to this headline">¶</a></h1>
<p>The purpose of this tutorial is to get you started with using Toolkit API.
The tutorial gives you an overview of the most fundamental API operations together with illustrating examples.
For more detailed documentations please see <a class="reference internal" href="#api-reference"><span class="std std-ref">API reference</span></a>.</p>
<div class="section" id="health-of-toolkit">
<h2>Health of Toolkit<a class="headerlink" href="#health-of-toolkit" title="Permalink to this headline">¶</a></h2>
<p>For checking the health of a running Toolkit instance, one can access the <strong>/health</strong> endpoint for operating statistics.
The endpoint responds with information abouth the availability of services (e.g. Elasticsearch and TEXTA MLP) and system resources (e.g. disk, memory, GPU usage, etc.).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;elastic&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://elasticsearch:9200&quot;</span><span class="p">,</span>
        <span class="s2">&quot;alive&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;elastic-dev&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cluster_name&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXTA-elastic&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cluster_uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;hyho3XLIS4qj9HijALguUA&quot;</span><span class="p">,</span>
            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;number&quot;</span><span class="p">:</span> <span class="s2">&quot;6.8.6&quot;</span><span class="p">,</span>
                <span class="s2">&quot;build_flavor&quot;</span><span class="p">:</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
                <span class="s2">&quot;build_type&quot;</span><span class="p">:</span> <span class="s2">&quot;deb&quot;</span><span class="p">,</span>
                <span class="s2">&quot;build_hash&quot;</span><span class="p">:</span> <span class="s2">&quot;3d9f765&quot;</span><span class="p">,</span>
                <span class="s2">&quot;build_date&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-12-13T17:11:52.013738Z&quot;</span><span class="p">,</span>
                <span class="s2">&quot;build_snapshot&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
                <span class="s2">&quot;lucene_version&quot;</span><span class="p">:</span> <span class="s2">&quot;7.7.2&quot;</span><span class="p">,</span>
                <span class="s2">&quot;minimum_wire_compatibility_version&quot;</span><span class="p">:</span> <span class="s2">&quot;5.6.0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;minimum_index_compatibility_version&quot;</span><span class="p">:</span> <span class="s2">&quot;5.0.0&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;tagline&quot;</span><span class="p">:</span> <span class="s2">&quot;You Know, for Search&quot;</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;mlp&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://texta-mlp:5000&quot;</span><span class="p">,</span>
        <span class="s2">&quot;alive&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;loaded entities&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;/opt/texta-mlp/entity_mapper/data/addresses.json&quot;</span><span class="p">,</span>
                <span class="s2">&quot;/opt/texta-mlp/entity_mapper/data/atc.json&quot;</span><span class="p">,</span>
                <span class="s2">&quot;/opt/texta-mlp/entity_mapper/data/companies.json&quot;</span><span class="p">,</span>
                <span class="s2">&quot;/opt/texta-mlp/entity_mapper/data/substances.json&quot;</span><span class="p">,</span>
                <span class="s2">&quot;/opt/texta-mlp/entity_mapper/data/drugs.json&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;service&quot;</span><span class="p">:</span> <span class="s2">&quot;TEXTA MLP&quot;</span><span class="p">,</span>
            <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;2.2.1&quot;</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;2.3.10&quot;</span><span class="p">,</span>
    <span class="s2">&quot;disk&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;free&quot;</span><span class="p">:</span> <span class="mf">316.9075050354004</span><span class="p">,</span>
        <span class="s2">&quot;total&quot;</span><span class="p">:</span> <span class="mf">1599.4990272521973</span><span class="p">,</span>
        <span class="s2">&quot;used&quot;</span><span class="p">:</span> <span class="mf">1282.5915222167969</span><span class="p">,</span>
        <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;GB&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;memory&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;free&quot;</span><span class="p">:</span> <span class="mf">22.222003936767578</span><span class="p">,</span>
        <span class="s2">&quot;total&quot;</span><span class="p">:</span> <span class="mf">31.4151611328125</span><span class="p">,</span>
        <span class="s2">&quot;used&quot;</span><span class="p">:</span> <span class="mf">8.80206298828125</span><span class="p">,</span>
        <span class="s2">&quot;unit&quot;</span><span class="p">:</span> <span class="s2">&quot;GB&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;cpu&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;percent&quot;</span><span class="p">:</span> <span class="mf">0.8</span>
    <span class="p">},</span>
    <span class="s2">&quot;gpu&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s2">&quot;devices&quot;</span><span class="p">:</span> <span class="p">[]</span>
    <span class="p">},</span>
    <span class="s2">&quot;active_tasks&quot;</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="registration">
<h2>Registration<a class="headerlink" href="#registration" title="Permalink to this headline">¶</a></h2>
<p>Endpoint: <strong>/rest-auth/registration/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/rest-auth/registration/&quot;</span> <span class="se">\</span>
-H  <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H  <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">        &quot;username&quot;: &quot;myname&quot;,</span>
<span class="s1">        &quot;email&quot;: &quot;myname@example.com&quot;,</span>
<span class="s1">        &quot;password1&quot;: &quot;a123s456789&quot;,</span>
<span class="s1">        &quot;password2&quot;: &quot;a123s456789&quot;</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="s2">&quot;7cd98b388e85b82bd084c80418d56a185b3a35ba&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>Response is the Token key that you will later need to authenticate requests.</p>
</div>
<div class="section" id="logging-in">
<h2>Logging in<a class="headerlink" href="#logging-in" title="Permalink to this headline">¶</a></h2>
<p>Endpoint: <strong>/rest-auth/login/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/rest-auth/login/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">        &quot;username&quot;: &quot;admin&quot;,</span>
<span class="s1">        &quot;password&quot;: &quot;1234&quot;</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="s2">&quot;8229898dccf960714a9fa22662b214005aa2b049&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>Response is the Token key that you will later need to authenticate requests.</p>
</div>
<div class="section" id="projects">
<h2>Projects<a class="headerlink" href="#projects" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-a-new-project">
<h3>Create a new project<a class="headerlink" href="#create-a-new-project" title="Permalink to this headline">¶</a></h3>
<p>Endpoint: <strong>/projects/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/projects/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">        &quot;title&quot;: &quot;My project&quot;,</span>
<span class="s1">        &quot;users&quot;: [&quot;http://localhost:8000/api/v1/users/1/&quot;],</span>
<span class="s1">        &quot;indices&quot;: [&quot;texta_test_index&quot;]</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="anonymizers">
<h2>Anonymizers<a class="headerlink" href="#anonymizers" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-a-new-anonymizer">
<h3>Create a new anonymizer<a class="headerlink" href="#create-a-new-anonymizer" title="Permalink to this headline">¶</a></h3>
<p>Endpoint: <strong>/projects/{project_pk}/anonymizers/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/projects/11/anonymizers/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">        &quot;description&quot;: &quot;My anonymizer&quot;,</span>
<span class="s1">        &quot;replace_misspelled_names&quot;: true,</span>
<span class="s1">        &quot;replace_single_last_names&quot;: true,</span>
<span class="s1">        &quot;replace_single_first_names&quot;: true,</span>
<span class="s1">        &quot;misspelling_threshold&quot;: 0.9,</span>
<span class="s1">        &quot;mimic_casing&quot;: true,</span>
<span class="s1">        &quot;auto_adjust_threshold&quot;: true</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="anonymize-text">
<h3>Anonymize text<a class="headerlink" href="#anonymize-text" title="Permalink to this headline">¶</a></h3>
<p>Endpoint <strong>/projects/{project_pk}/anonymizers/{id}/anonymize_text/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/projects/11/anonymizers/1/anonymize_text/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">        &quot;text&quot;: &quot;Bonnie Parker and Clyde Barrow are believed to have murdered at least nine police officers.&quot;,</span>
<span class="s1">        &quot;names&quot;: [&quot;Parker, Bonnie Elizabeth&quot;, &quot;Chestnut Barrow, Clyde&quot;]</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;N.Q and X.R are believed to have murdered at least nine police officers.&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="anonymize-texts">
<h3>Anonymize texts<a class="headerlink" href="#anonymize-texts" title="Permalink to this headline">¶</a></h3>
<p>Endpoint <strong>/projects/{project_pk}/anonymizers/{id}/anonymize_texts/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/projects/11/anonymizers/1/anonymize_texts/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">       &quot;texts&quot;: [</span>
<span class="s1">            &quot;Bonnie Parker and Clyde Barrow are believed to have murdered at least nine police officers.&quot;,</span>
<span class="s1">            &quot;Bonnie and Clyde were killed in May 1934.&quot;</span>
<span class="s1">        ],</span>
<span class="s1">       &quot;names&quot;: [&quot;Parker, Bonnie Elizabeth&quot;, &quot;Chestnut Barrow, Clyde&quot;],</span>
<span class="s1">       &quot;consistent_replacement&quot;: true</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="s2">&quot;F.Q and T.T are believed to have murdered at least nine police officers.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;F.Q and T.T were killed in May 1934.&quot;</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="embeddings">
<h2>Embeddings<a class="headerlink" href="#embeddings" title="Permalink to this headline">¶</a></h2>
<div class="section" id="train-a-new-embedding">
<h3>Train a new embedding<a class="headerlink" href="#train-a-new-embedding" title="Permalink to this headline">¶</a></h3>
<p>Endpoint: <strong>/projects/{project_pk}/embeddings/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/projects/11/embeddings/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">        &quot;description&quot;: &quot;My embedding&quot;,</span>
<span class="s1">        &quot;indices&quot;: [{&quot;name&quot;: &quot;texta_test_index&quot;}],</span>
<span class="s1">        &quot;fields&quot;: [&quot;comment_content_lemmas&quot;],</span>
<span class="s1">        &quot;num_dimensions&quot;: 100,</span>
<span class="s1">        &quot;max_documents&quot;: 10000,</span>
<span class="s1">        &quot;min_freq&quot;: 5</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="taggers">
<h2>Taggers<a class="headerlink" href="#taggers" title="Permalink to this headline">¶</a></h2>
<div class="section" id="train-a-new-tagger">
<h3>Train a new tagger<a class="headerlink" href="#train-a-new-tagger" title="Permalink to this headline">¶</a></h3>
<p>Endpoint: <strong>/projects/{project_pk}/taggers/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/projects/11/taggers/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">        &quot;description&quot;: &quot;My tagger&quot;,</span>
<span class="s1">        &quot;fields&quot;: [&quot;comment_content_lemmas&quot;],</span>
<span class="s1">        &quot;vectorizer&quot;: &quot;Hashing Vectorizer&quot;,</span>
<span class="s1">        &quot;classifier&quot;: &quot;Logistic Regression&quot;,</span>
<span class="s1">        &quot;indices&quot;: [{&quot;name&quot;: &quot;texta_test_index&quot;}]</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="tag-text">
<h3>Tag text<a class="headerlink" href="#tag-text" title="Permalink to this headline">¶</a></h3>
<p>Endpoint <strong>/projects/{project_pk}/taggers/{id}/tag_text/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/projects/11/taggers/2/tag_text/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">        &quot;text&quot;: &quot;mis su nimi on?&quot;,</span>
<span class="s1">        &quot;lemmatize&quot;: true</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;tag&quot;</span><span class="p">:</span><span class="s2">&quot;My tagger&quot;</span><span class="p">,</span>
    <span class="nt">&quot;probability&quot;</span><span class="p">:</span><span class="mf">0.9898217973842874</span><span class="p">,</span>
    <span class="nt">&quot;tagger_id&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="regex-taggers">
<h2>Regex Taggers<a class="headerlink" href="#regex-taggers" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-a-new-regex-tagger">
<h3>Create a new Regex Tagger<a class="headerlink" href="#create-a-new-regex-tagger" title="Permalink to this headline">¶</a></h3>
<p>Endpoint: <strong>/projects/{project_pk}/regex_taggers/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/projects/11/regex_taggers/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">        &quot;description&quot;: &quot;My regex tagger&quot;,</span>
<span class="s1">        &quot;lexicon&quot;: [&quot;cat&quot;],</span>
<span class="s1">        &quot;counter_lexicon&quot;: [&quot;no&quot;, &quot;not&quot;],</span>
<span class="s1">        &quot;operator&quot;: &quot;or&quot;,</span>
<span class="s1">        &quot;match_type&quot;: &quot;prefix&quot;,</span>
<span class="s1">        &quot;required_words&quot;: 1.0,</span>
<span class="s1">        &quot;phrase_slop&quot;: 0,</span>
<span class="s1">        &quot;counter_slop&quot;: 2,</span>
<span class="s1">        &quot;n_allowed_edits&quot;: 0,</span>
<span class="s1">        &quot;return_fuzzy_match&quot;: true,</span>
<span class="s1">        &quot;ignore_case&quot;: true,</span>
<span class="s1">        &quot;ignore_punctuation&quot;: false</span>

<span class="s1">    }&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="tag-doc">
<h3>Tag doc<a class="headerlink" href="#tag-doc" title="Permalink to this headline">¶</a></h3>
<p>Endpoint <strong>/projects/{project_pk}/regex_taggers/{id}/tag_doc/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/projects/11/regex_taggers/1/tag_doc/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">        &quot;doc&quot;: {&quot;text&quot;: &quot;If you are allergic to a thing, it is best not to put that thing in your mouth, particularly if the thing is cats.&quot;, &quot;id&quot;: 12},</span>
<span class="s1">        &quot;fields&quot;: [&quot;text&quot;]</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;tagger_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;My regex tagger&quot;</span><span class="p">,</span>
  <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;matches&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
          <span class="nt">&quot;str_val&quot;</span><span class="p">:</span> <span class="s2">&quot;cats&quot;</span><span class="p">,</span>
          <span class="nt">&quot;spans&quot;</span><span class="p">:</span> <span class="p">[</span>
              <span class="mi">109</span><span class="p">,</span>
              <span class="mi">113</span>
          <span class="p">],</span>
          <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;My regex tagger&quot;</span><span class="p">,</span>
          <span class="nt">&quot;tagger_id&quot;</span><span class="p">:</span> <span class="mi">1</span>
      <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="tag-random-doc">
<h3>Tag random doc<a class="headerlink" href="#tag-random-doc" title="Permalink to this headline">¶</a></h3>
<p>Endpoint <strong>/projects/{project_pk}/regex_taggers/{id}/tag_random_doc/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/projects/11/regex_taggers/1/tag_random_doc/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">        &quot;indices&quot;: [{&quot;name&quot;: &quot;kliinik_ee&quot;}],</span>
<span class="s1">        &quot;fields&quot;: [&quot;kysimus_ja_vastus&quot;]</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;tagger_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;My regex tagger&quot;</span><span class="p">,</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&quot;matches&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;str_val&quot;</span><span class="p">:</span> <span class="s2">&quot;cats&quot;</span><span class="p">,</span>
            <span class="nt">&quot;spans&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="mi">109</span><span class="p">,</span>
                <span class="mi">113</span>
            <span class="p">],</span>
            <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;My regex tagger&quot;</span><span class="p">,</span>
            <span class="nt">&quot;tagger_id&quot;</span><span class="p">:</span> <span class="mi">1</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="nt">&quot;texts&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;If you are allergic to a thing, it is best not to put that thing in your mouth, particularly if the thing is cats.&quot;</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id1">
<h3>Tag text<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Endpoint <strong>/projects/{project_pk}/regex_taggers/{id}/tag_text/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/projects/11/regex_taggers/1/tag_text/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">        &quot;text&quot;: &quot;If you are allergic to a thing, it is best not to put that thing in your mouth, particularly if the thing is cats.&quot;,</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="nt">&quot;str_val&quot;</span><span class="p">:</span> <span class="s2">&quot;cats&quot;</span><span class="p">,</span>
        <span class="nt">&quot;spans&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="mi">109</span><span class="p">,</span>
            <span class="mi">113</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="tag-texts">
<h3>Tag texts<a class="headerlink" href="#tag-texts" title="Permalink to this headline">¶</a></h3>
<p>Endpoint <strong>/projects/{project_pk}/regex_taggers/{id}/tag_texts/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/projects/11/regex_taggers/1/tag_texts/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">        &quot;texts&quot;: [&quot;Black cats and white rats.&quot;, &quot;Dogs dogs dogs.&quot;]</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;str_val&quot;</span><span class="p">:</span> <span class="s2">&quot;cats&quot;</span><span class="p">,</span>
            <span class="nt">&quot;spans&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="mi">6</span><span class="p">,</span>
                <span class="mi">10</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="p">[]</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tagger-groups">
<h2>Tagger Groups<a class="headerlink" href="#tagger-groups" title="Permalink to this headline">¶</a></h2>
<div class="section" id="train-a-new-tagger-group">
<h3>Train a new tagger group<a class="headerlink" href="#train-a-new-tagger-group" title="Permalink to this headline">¶</a></h3>
<p>Endpoint: <strong>/projects/{project_pk}/tagger_groups/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/projects/11/tagger_groups/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">        &quot;description&quot;: &quot;My tagger group&quot;,</span>
<span class="s1">        &quot;fact_name&quot;: &quot;TEEMA&quot;,</span>
<span class="s1">        &quot;tagger&quot;:</span>
<span class="s1">                {</span>
<span class="s1">                    &quot;fields&quot;: [&quot;comment_content_lemmas&quot;],</span>
<span class="s1">                    &quot;vectorizer&quot;: &quot;TfIdf Vectorizer&quot;,</span>
<span class="s1">                    &quot;classifier&quot;: &quot;Logistic Regression&quot;,</span>
<span class="s1">                    &quot;indices&quot;: [{&quot;name&quot;: &quot;texta_test_index&quot;}]</span>
<span class="s1">                }</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3>Tag text<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Endpoint: <strong>/projects/{project_pk}/tagger_groups/{id}/tag_text/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/projects/11/tagger_groups/1/tag_text/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">        &quot;text&quot;: &quot;AINUS ettepanek - alla põhihariduse isikutele sõidulubasid mitte anda - sai kriitika osaliseks.&quot;,</span>
<span class="s1">        &quot;lemmatize&quot;: true,</span>
<span class="s1">        &quot;n_similar_docs&quot;: 10,</span>
<span class="s1">        &quot;n_candidate_tags&quot;: 10</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="nt">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span>
        <span class="nt">&quot;probability&quot;</span><span class="p">:</span> <span class="mf">0.6659222999240199</span><span class="p">,</span>
        <span class="nt">&quot;tagger_id&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="nt">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span>
        <span class="nt">&quot;probability&quot;</span><span class="p">:</span> <span class="mf">0.5107991699285356</span><span class="p">,</span>
        <span class="nt">&quot;tagger_id&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="regex-tagger-groups">
<h2>Regex Tagger Groups<a class="headerlink" href="#regex-tagger-groups" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-a-new-regex-tagger-group">
<h3>Create a new regex tagger group<a class="headerlink" href="#create-a-new-regex-tagger-group" title="Permalink to this headline">¶</a></h3>
<p>Endpoint: <strong>/projects/{project_pk}/regex_tagger_groups/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/projects/11/regex_tagger_groups/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">        &quot;regex_taggers&quot;: [92, 93, 94],</span>
<span class="s1">        &quot;description&quot;: &quot;animals&quot;</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://rest-dev.texta.ee/api/v1/projects/2/regex_tagger_groups/1/&quot;</span><span class="p">,</span>
    <span class="nt">&quot;regex_taggers&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="mi">92</span><span class="p">,</span>
        <span class="mi">93</span><span class="p">,</span>
        <span class="mi">94</span>
    <span class="p">],</span>
    <span class="nt">&quot;author_username&quot;</span><span class="p">:</span> <span class="s2">&quot;my_username&quot;</span><span class="p">,</span>
    <span class="nt">&quot;task&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;animals&quot;</span><span class="p">,</span>
    <span class="nt">&quot;tagger_info&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;tagger_id&quot;</span><span class="p">:</span> <span class="mi">92</span><span class="p">,</span>
            <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;cat&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;tagger_id&quot;</span><span class="p">:</span> <span class="mi">93</span><span class="p">,</span>
            <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;dog&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;tagger_id&quot;</span><span class="p">:</span> <span class="mi">94</span><span class="p">,</span>
            <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;horse&quot;</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="apply-regex-tagger-group">
<h3>Apply regex tagger group<a class="headerlink" href="#apply-regex-tagger-group" title="Permalink to this headline">¶</a></h3>
<p>Endpoint: <strong>/projects/{project_pk}/regex_tagger_groups/{id}/apply_tagger_group/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/projects/11/regex_tagger_groups/1/apply_tagger_group/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">      &quot;description&quot;: &quot;Apply my regex tagger group&quot;,</span>
<span class="s1">      &quot;indices&quot;: [{&quot;name&quot;: &quot;&quot;}],</span>
<span class="s1">      &quot;fields&quot;: [],</span>
<span class="s1">      &quot;query&quot;: null</span>

<span class="s1">    }&#39;</span>
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h3>Tag doc<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>Endpoint: <strong>/projects/{project_pk}/regex_tagger_groups/{id}/tag_doc/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/projects/11/regex_tagger_groups/1/tag_doc/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">        &quot;doc&quot;: {&quot;text&quot;: &quot;Black cats and white dogs.&quot;, &quot;id&quot;: 1},</span>
<span class="s1">        &quot;fields&quot;: [&quot;text&quot;]</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;tagger_group_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;animals&quot;</span><span class="p">,</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&quot;matches&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;str_val&quot;</span><span class="p">:</span> <span class="s2">&quot;cats&quot;</span><span class="p">,</span>
            <span class="nt">&quot;spans&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="mi">6</span><span class="p">,</span>
                <span class="mi">10</span>
            <span class="p">],</span>
            <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;cat&quot;</span><span class="p">,</span>
            <span class="nt">&quot;tagger_id&quot;</span><span class="p">:</span> <span class="mi">92</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;str_val&quot;</span><span class="p">:</span> <span class="s2">&quot;dogs&quot;</span><span class="p">,</span>
            <span class="nt">&quot;spans&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="mi">21</span><span class="p">,</span>
                <span class="mi">25</span>
            <span class="p">],</span>
            <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;dog&quot;</span><span class="p">,</span>
            <span class="nt">&quot;tagger_id&quot;</span><span class="p">:</span> <span class="mi">93</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h3>Tag random doc<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Endpoint: <strong>/projects/{project_pk}/regex_tagger_groups/{id}/tag_random_doc/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/projects/11/regex_tagger_groups/1/tag_random_doc/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">        &quot;indices&quot;: [],</span>
<span class="s1">        &quot;fields&quot;: []</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h3>Tag text<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>Endpoint: <strong>/projects/{project_pk}/regex_tagger_groups/{id}/tag_text/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/projects/11/regex_tagger_groups/1/tag_text/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">        &quot;text&quot;: &quot;Black cats and white dogs.&quot;</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;tagger_group_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;animals&quot;</span><span class="p">,</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&quot;matches&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;str_val&quot;</span><span class="p">:</span> <span class="s2">&quot;cats&quot;</span><span class="p">,</span>
            <span class="nt">&quot;spans&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="mi">6</span><span class="p">,</span>
                <span class="mi">10</span>
            <span class="p">],</span>
            <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;cat&quot;</span><span class="p">,</span>
            <span class="nt">&quot;tagger_id&quot;</span><span class="p">:</span> <span class="mi">92</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;str_val&quot;</span><span class="p">:</span> <span class="s2">&quot;dogs&quot;</span><span class="p">,</span>
            <span class="nt">&quot;spans&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="mi">21</span><span class="p">,</span>
                <span class="mi">25</span>
            <span class="p">],</span>
            <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;dog&quot;</span><span class="p">,</span>
            <span class="nt">&quot;tagger_id&quot;</span><span class="p">:</span> <span class="mi">93</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h3>Tag texts<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>Endpoint: <strong>/projects/{project_pk}/regex_tagger_groups/{id}/tag_texts/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/projects/11/regex_tagger_groups/1/tag_texts/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">        &quot;texts&quot;: [&quot;Black cats and white dogs&quot;, &quot;Plains and trains.&quot;, &quot;Knights and horses.&quot; ]</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="torch-tagger">
<h2>Torch Tagger<a class="headerlink" href="#torch-tagger" title="Permalink to this headline">¶</a></h2>
<div class="section" id="train-a-new-torch-tagger">
<h3>Train a new Torch Tagger<a class="headerlink" href="#train-a-new-torch-tagger" title="Permalink to this headline">¶</a></h3>
<p>Endpoint: <strong>/projects/{project_pk}/torchtaggers/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/projects/11/torchtaggers/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">        &quot;description&quot;: &quot;My Torch Tagger&quot;,</span>
<span class="s1">        &quot;fields&quot;: [&quot;comment_content_clean.text&quot;],</span>
<span class="s1">        &quot;model_architecture&quot;: &quot;TextRNN&quot;,</span>
<span class="s1">        &quot;embedding&quot;: 2,</span>
<span class="s1">        &quot;num_epochs&quot;: 5,</span>
<span class="s1">        &quot;fact_name&quot;: &quot;TEEMA&quot;,</span>
<span class="s1">        &quot;indices&quot;: [{&quot;name&quot;: &quot;texta_test_index&quot;}]</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h3>Tag text<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>Endpoint: <strong>/projects/{project_pk}/torchtaggers/{id}/tag_text/</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">&quot;http://localhost:8000/api/v1/projects/11/torchtaggers/1/tag_text/&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;accept: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
-H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-d <span class="s1">&#39;{</span>
<span class="s1">        &quot;text&quot;: &quot;AINUS ettepanek - alla põhihariduse isikutele sõidulubasid mitte anda - sai kriitika osaliseks.&quot;,</span>
<span class="s1">        &quot;lemmatize&quot;: false</span>
<span class="s1">    }&#39;</span>
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;result&quot;</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span>
    <span class="nt">&quot;probability&quot;</span><span class="p">:</span> <span class="mf">0.36259710788726807</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="dataset-importer">
<h2>Dataset Importer<a class="headerlink" href="#dataset-importer" title="Permalink to this headline">¶</a></h2>
<p>This module allows the user to insert jsonlines, csv and excel files into Elasticsearch
to make them accessible by the Toolkit. Please note that this process reads the whole
file into the memory and can thus create memory issues when trying to process bigger files, it is advisable to split such
files up into smaller chunks and process each one separately.</p>
<p>This whole process is asynchronous so the response to the call will be instantaneous and it since it takes a bit time
to load the file into the memory, the first 10 seconds might not display any signs of the progress changing.</p>
<div class="section" id="parameters">
<h3>Parameters:<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>description - Normal description to separate any given task from the other ones.</p></li>
<li><p>index - Name of the newly created index, please note that Elasticsearch index naming restrictions apply.</p></li>
<li><p>separator - Only needed for .csv files, defaults to a coma (,). Allows to configure the separator for csv files.</p></li>
</ul>
<p>Example:</p>
<p>&#64; is special syntax for reading the binary of the given file name.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -H <span class="s2">&quot;Authorization: Token 8229898dccf960714a9fa22662b214005aa2b049&quot;</span> <span class="se">\</span>
-F <span class="s2">&quot;description=Articles&quot;</span> <span class="se">\</span>
-F <span class="s2">&quot;index=en_articles&quot;</span> <span class="se">\</span>
-F <span class="s2">&quot;file=@FILE_NAME.csv&quot;</span> <span class="se">\</span>
http://localhost:8000/api/v1/projects/11/dataset_imports/
</pre></div>
</div>
</div>
</div>
<div class="section" id="browsable-api">
<h2>Browsable API<a class="headerlink" href="#browsable-api" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="http://localhost:8000/api/v1/">http://localhost:8000/api/v1/</a></p></li>
</ul>
<p>TODO</p>
</div>
<div class="section" id="api-reference">
<span id="id8"></span><h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h2>
<p>Reference for Toolkit API is available when running the Toolkit:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://localhost:8000/api/v1/swagger/">http://localhost:8000/api/v1/swagger/</a></p></li>
<li><p><a class="reference external" href="http://localhost:8000/api/v1/redoc/">http://localhost:8000/api/v1/redoc/</a></p></li>
</ul>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">TEXTA Toolkit</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Main Concepts of Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui.html">Tutorial: Using Toolkit via GUI</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorial: Using Toolkit via API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#health-of-toolkit">Health of Toolkit</a></li>
<li class="toctree-l2"><a class="reference internal" href="#registration">Registration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#logging-in">Logging in</a></li>
<li class="toctree-l2"><a class="reference internal" href="#projects">Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="#anonymizers">Anonymizers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#embeddings">Embeddings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#taggers">Taggers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#regex-taggers">Regex Taggers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tagger-groups">Tagger Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="#regex-tagger-groups">Regex Tagger Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="#torch-tagger">Torch Tagger</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dataset-importer">Dataset Importer</a></li>
<li class="toctree-l2"><a class="reference internal" href="#browsable-api">Browsable API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="uaa.html">Authenticating Toolkit through CloudFoundry UAA</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="gui.html" title="previous chapter">Tutorial: Using Toolkit via GUI</a></li>
      <li>Next: <a href="uaa.html" title="next chapter">Authenticating Toolkit through CloudFoundry UAA</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020 TEXTA.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.0.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/api.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>